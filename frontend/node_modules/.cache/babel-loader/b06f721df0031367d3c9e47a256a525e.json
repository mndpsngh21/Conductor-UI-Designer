{"ast":null,"code":"var _jsxFileName = \"/media/mandeep/Files/R&D/Workflow-Designer/frontend/src/Flow.js\",\n  _s = $RefreshSig$();\n// src/Flow.js\n\nimport React, { useState, useEffect } from 'react';\nimport ReactFlow, { Background, Controls, MiniMap } from 'react-flow-renderer';\nimport Sidebar from './components/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeTypes = {\n  task: ({\n    data\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"node task\",\n    style: {\n      padding: '10px',\n      background: '#fff',\n      border: '1px solid #222',\n      borderRadius: '4px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this),\n  start: ({\n    data\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"node start\",\n    style: {\n      padding: '10px',\n      background: '#d1ffd1',\n      border: '1px solid #222',\n      borderRadius: '4px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this),\n  end: ({\n    data\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"node end\",\n    style: {\n      padding: '10px',\n      background: '#ffdddd',\n      border: '1px solid #222',\n      borderRadius: '4px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this),\n  decision: ({\n    data\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"node decision\",\n    style: {\n      padding: '10px',\n      background: '#fff0d1',\n      border: '1px solid #222',\n      borderRadius: '4px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this)\n};\nconst Flow = () => {\n  _s();\n  const [nodes, setNodes] = useState([{\n    id: '1',\n    type: 'start',\n    data: {\n      label: 'Start'\n    },\n    position: {\n      x: 250,\n      y: 5\n    }\n  }]);\n  const [edges, setEdges] = useState([]);\n  const addNode = (type, position) => {\n    const id = `${nodes.length + 1}`;\n    const newNode = {\n      id,\n      type,\n      data: {\n        label: type.charAt(0).toUpperCase() + type.slice(1)\n      },\n      position\n    };\n    console.log(\"Current nodes before adding:\", nodes); // Log current nodes\n    console.log(\"Adding new node:\", newNode); // Log the new node being added\n\n    setNodes(prevNodes => {\n      const updatedNodes = [...prevNodes, newNode];\n      console.log(\"Updated nodes after adding:\", updatedNodes); // Log updated nodes\n      return updatedNodes;\n    });\n  };\n\n  // Inside the Flow component, after defining setNodes\n  useEffect(() => {\n    console.log(\"Nodes state updated:\", nodes);\n  }, [nodes]); // This will run whenever `nodes` changes\n\n  const onConnect = params => {\n    console.log(\"Connecting nodes:\", params);\n    const newEdge = {\n      id: `${params.source}-${params.target}`,\n      source: params.source,\n      target: params.target\n    };\n    setEdges(prevEdges => [...prevEdges, newEdge]);\n  };\n\n  // Debugging logs\n  console.log(\"Current nodes:\", nodes);\n  console.log(\"Current edges:\", edges);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flow-container\",\n    style: {\n      height: '100vh',\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      addNode: addNode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n        elements: [...nodes, ...edges],\n        onConnect: onConnect,\n        nodeTypes: nodeTypes,\n        style: {\n          width: '100%',\n          height: '100%',\n          border: '1px solid black'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Background, {\n          color: \"#aaa\",\n          gap: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MiniMap, {\n          nodeColor: \"#0041d0\",\n          nodeStrokeColor: \"#fff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          zIndex: 1000,\n          background: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Current Nodes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: nodes.map(node => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [node.data.label, \" (ID: \", node.id, \")\"]\n          }, node.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Flow, \"9uoR1qNgPo9lzQtOI+qIge1E4A4=\");\n_c = Flow;\nexport default Flow;\nvar _c;\n$RefreshReg$(_c, \"Flow\");","map":{"version":3,"names":["React","useState","useEffect","ReactFlow","Background","Controls","MiniMap","Sidebar","jsxDEV","_jsxDEV","nodeTypes","task","data","className","style","padding","background","border","borderRadius","children","label","fileName","_jsxFileName","lineNumber","columnNumber","start","end","decision","Flow","_s","nodes","setNodes","id","type","position","x","y","edges","setEdges","addNode","length","newNode","charAt","toUpperCase","slice","console","log","prevNodes","updatedNodes","onConnect","params","newEdge","source","target","prevEdges","height","display","flexGrow","elements","width","color","gap","nodeColor","nodeStrokeColor","zIndex","map","node","_c","$RefreshReg$"],"sources":["/media/mandeep/Files/R&D/Workflow-Designer/frontend/src/Flow.js"],"sourcesContent":["// src/Flow.js\n\nimport React, { useState ,useEffect} from 'react';\nimport ReactFlow, { Background, Controls, MiniMap } from 'react-flow-renderer';\nimport Sidebar from './components/Sidebar';\n\n\nconst nodeTypes = {\n  task: ({ data }) => (\n    <div className=\"node task\" style={{ padding: '10px', background: '#fff', border: '1px solid #222', borderRadius: '4px' }}>\n      <strong>{data.label}</strong>\n    </div>\n  ),\n  start: ({ data }) => (\n    <div className=\"node start\" style={{ padding: '10px', background: '#d1ffd1', border: '1px solid #222', borderRadius: '4px' }}>\n      <strong>{data.label}</strong>\n    </div>\n  ),\n  end: ({ data }) => (\n    <div className=\"node end\" style={{ padding: '10px', background: '#ffdddd', border: '1px solid #222', borderRadius: '4px' }}>\n      <strong>{data.label}</strong>\n    </div>\n  ),\n  decision: ({ data }) => (\n    <div className=\"node decision\" style={{ padding: '10px', background: '#fff0d1', border: '1px solid #222', borderRadius: '4px' }}>\n      <strong>{data.label}</strong>\n    </div>\n  ),\n};\n\nconst Flow = () => {\n  const [nodes, setNodes] = useState([\n    {\n      id: '1',\n      type: 'start',\n      data: { label: 'Start' },\n      position: { x: 250, y: 5 },\n    },\n  ]);\n\n  const [edges, setEdges] = useState([]);\n\n  const addNode = (type, position) => {\n    const id = `${nodes.length + 1}`;\n    const newNode = {\n        id,\n        type,\n        data: { label: type.charAt(0).toUpperCase() + type.slice(1) },\n        position,\n    };\n\n    console.log(\"Current nodes before adding:\", nodes); // Log current nodes\n    console.log(\"Adding new node:\", newNode); // Log the new node being added\n\n    setNodes((prevNodes) => {\n        const updatedNodes = [...prevNodes, newNode];\n        console.log(\"Updated nodes after adding:\", updatedNodes); // Log updated nodes\n        return updatedNodes;\n    });\n};\n\n// Inside the Flow component, after defining setNodes\nuseEffect(() => {\n  console.log(\"Nodes state updated:\", nodes);\n}, [nodes]); // This will run whenever `nodes` changes\n\n  const onConnect = (params) => {\n    console.log(\"Connecting nodes:\", params);\n    const newEdge = { id: `${params.source}-${params.target}`, source: params.source, target: params.target };\n    setEdges((prevEdges) => [...prevEdges, newEdge]);\n  };\n\n  // Debugging logs\n  console.log(\"Current nodes:\", nodes);\n  console.log(\"Current edges:\", edges);\n\n  return (\n    <div className=\"flow-container\" style={{ height: '100vh', display: 'flex' }}>\n        <Sidebar addNode={addNode} />\n        <div style={{ flexGrow: 1 }}>\n            <ReactFlow\n                elements={[...nodes, ...edges]}\n                onConnect={onConnect}\n                nodeTypes={nodeTypes}\n                style={{ width: '100%', height: '100%', border: '1px solid black' }}\n            >\n                <Background color=\"#aaa\" gap={16} />\n                <Controls />\n                <MiniMap nodeColor=\"#0041d0\" nodeStrokeColor=\"#fff\" />\n            </ReactFlow>\n            {/* Debugging: Render nodes directly */}\n            <div style={{ position: 'absolute', zIndex: 1000, background: 'white' }}>\n                <h3>Current Nodes:</h3>\n                <ul>\n                    {nodes.map((node) => (\n                        <li key={node.id}>{node.data.label} (ID: {node.id})</li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    </div>\n);\n};\n\nexport default Flow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}