{"ast":null,"code":"var _jsxFileName = \"/media/mandeep/Files/R&D/Workflow-Designer/frontend/src/Flow.js\",\n  _s = $RefreshSig$();\n// Flow.js\nimport React, { useState, useCallback } from 'react';\nimport ReactFlow, { addEdge, Background } from 'react-flow-renderer';\nimport CustomNode from './CustomNode';\nimport TaskPopup from './TaskPopup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialNodes = [{\n  id: '1',\n  type: 'input',\n  data: {\n    label: 'Start'\n  },\n  position: {\n    x: 250,\n    y: 0\n  }\n}];\nconst Flow = () => {\n  _s();\n  const [nodes, setNodes] = useState(initialNodes);\n  const [edges, setEdges] = useState([]);\n  const [showPopup, setShowPopup] = useState(false);\n  const [currentNodeId, setCurrentNodeId] = useState(null);\n\n  // Task list (example)\n  const tasks = [{\n    id: '1',\n    name: 'Worker Task (Simple)',\n    description: 'Runs a Worker task.',\n    icon: '🔧',\n    type: 'All'\n  }, {\n    id: '2',\n    name: 'Event Task',\n    description: 'Runs an event task.',\n    icon: '📅',\n    type: 'All'\n  }, {\n    id: '3',\n    name: 'HTTP Task',\n    description: 'Call an HTTP endpoint.',\n    icon: '🌐',\n    type: 'System'\n  }\n  // Add more tasks as needed\n  ];\n  const nodeTypes = {\n    customNode: nodeProps => /*#__PURE__*/_jsxDEV(CustomNode, {\n      ...nodeProps,\n      openModal: () => openTaskPopup(nodeProps.id)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  };\n  const openTaskPopup = nodeId => {\n    setCurrentNodeId(nodeId);\n    setShowPopup(true);\n  };\n  const closeTaskPopup = () => {\n    setShowPopup(false);\n  };\n  const onTaskSelect = task => {\n    const newNode = {\n      id: `${nodes.length + 1}`,\n      type: 'customNode',\n      // Make sure this is the correct node type\n      position: {\n        x: 250,\n        y: nodes.length * 100\n      },\n      data: {\n        label: task.name\n      }\n    };\n    setNodes(nds => [...nds, newNode]);\n    closeTaskPopup();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flow-container\",\n    children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: edges,\n      nodeTypes: nodeTypes,\n      onNodesChange: setNodes,\n      onEdgesChange: setEdges,\n      onConnect: params => setEdges(eds => addEdge(params, eds)),\n      children: /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), showPopup && /*#__PURE__*/_jsxDEV(TaskPopup, {\n      tasks: tasks,\n      onTaskSelect: onTaskSelect,\n      closeModal: closeTaskPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Flow, \"/9zujy9ivdLGz1g9POJ+WexnHjk=\");\n_c = Flow;\nexport default Flow;\nvar _c;\n$RefreshReg$(_c, \"Flow\");","map":{"version":3,"names":["React","useState","useCallback","ReactFlow","addEdge","Background","CustomNode","TaskPopup","jsxDEV","_jsxDEV","initialNodes","id","type","data","label","position","x","y","Flow","_s","nodes","setNodes","edges","setEdges","showPopup","setShowPopup","currentNodeId","setCurrentNodeId","tasks","name","description","icon","nodeTypes","customNode","nodeProps","openModal","openTaskPopup","fileName","_jsxFileName","lineNumber","columnNumber","nodeId","closeTaskPopup","onTaskSelect","task","newNode","length","nds","className","children","onNodesChange","onEdgesChange","onConnect","params","eds","closeModal","_c","$RefreshReg$"],"sources":["/media/mandeep/Files/R&D/Workflow-Designer/frontend/src/Flow.js"],"sourcesContent":["// Flow.js\nimport React, { useState, useCallback } from 'react';\nimport ReactFlow, { addEdge, Background } from 'react-flow-renderer';\nimport CustomNode from './CustomNode';\nimport TaskPopup from './TaskPopup';\n\nconst initialNodes = [\n  { id: '1', type: 'input', data: { label: 'Start' }, position: { x: 250, y: 0 } },\n];\n\nconst Flow = () => {\n  const [nodes, setNodes] = useState(initialNodes);\n  const [edges, setEdges] = useState([]);\n  const [showPopup, setShowPopup] = useState(false);\n  const [currentNodeId, setCurrentNodeId] = useState(null);\n\n  // Task list (example)\n  const tasks = [\n    { id: '1', name: 'Worker Task (Simple)', description: 'Runs a Worker task.', icon: '🔧', type: 'All' },\n    { id: '2', name: 'Event Task', description: 'Runs an event task.', icon: '📅', type: 'All' },\n    { id: '3', name: 'HTTP Task', description: 'Call an HTTP endpoint.', icon: '🌐', type: 'System' },\n    // Add more tasks as needed\n  ];\n\n  const nodeTypes = {\n    customNode: (nodeProps) => (\n      <CustomNode {...nodeProps} openModal={() => openTaskPopup(nodeProps.id)} />\n    ),\n  };\n\n  const openTaskPopup = (nodeId) => {\n    setCurrentNodeId(nodeId);\n    setShowPopup(true);\n  };\n\n  const closeTaskPopup = () => {\n    setShowPopup(false);\n  };\n\n  const onTaskSelect = (task) => {\n    const newNode = {\n      id: `${nodes.length + 1}`,\n      type: 'customNode',  // Make sure this is the correct node type\n      position: { x: 250, y: nodes.length * 100 },\n      data: { label: task.name }\n    };\n    \n    setNodes((nds) => [...nds, newNode]);\n    closeTaskPopup();\n  };\n\n  return (\n    <div className=\"flow-container\">\n      <ReactFlow\n        nodes={nodes}\n        edges={edges}\n        nodeTypes={nodeTypes}\n        onNodesChange={setNodes}\n        onEdgesChange={setEdges}\n        onConnect={(params) => setEdges((eds) => addEdge(params, eds))}\n      >\n        <Background />\n      </ReactFlow>\n\n      {showPopup && (\n        <TaskPopup tasks={tasks} onTaskSelect={onTaskSelect} closeModal={closeTaskPopup} />\n      )}\n    </div>\n  );\n};\n\nexport default Flow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}